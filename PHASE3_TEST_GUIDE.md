# Phase 3 테스트 가이드

**Phase 3 (백엔드 API)까지 구현한 결과물을 시험해보세요!**

---

## 🎯 테스트 방법

### 방법 1: 웹 브라우저 테스트 페이지 (추천) ⭐

간단한 UI가 포함된 테스트 페이지를 만들어두었습니다.

#### 1단계: 개발 서버 시작

터미널에서 다음 명령어 실행:

```bash
npm run dev
```

서버가 시작되면 다음과 같은 메시지가 표시됩니다:
```
▲ Next.js 15.5.6
- Local:        http://localhost:3000
- Ready in 2.3s
```

#### 2단계: 테스트 페이지 접속

웹 브라우저에서 다음 URL 접속:

```
http://localhost:3000/test
```

#### 3단계: 문구 생성 테스트

1. **가치 제언 입력**: 텍스트 영역에 제품/서비스 설명 입력 (10~200자)
   - 예시: "바르기 쉽고 자외선 차단력이 강한 선크림"
   
2. **설정 확인**: 테스트 설정이 표시됩니다
   - 타겟: 여성, 30대
   - 플랫폼: 인스타그램
   - 어조: 감성적

3. **생성하기 클릭**: "문구 생성하기" 버튼 클릭

4. **결과 확인**:
   - 생성된 마케팅 문구가 카드 형태로 표시됩니다
   - 플랫폼 태그와 함께 문구 표시
   - 복사 버튼으로 클립보드에 복사 가능
   - JSON 응답도 확인 가능

#### 스크린샷

```
┌─────────────────────────────────────────┐
│  ✨ Phase 3 API 테스트                 │
│  백엔드 API가 정상적으로 작동하는지     │
│  테스트해보세요                          │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│  마케팅 문구 생성                       │
│                                         │
│  가치 제언 (10~200자)                   │
│  ┌───────────────────────────────────┐ │
│  │ 바르기 쉽고 자외선 차단력이 강한  │ │
│  │ 선크림                            │ │
│  └───────────────────────────────────┘ │
│  30자 / 200자                           │
│                                         │
│  테스트 설정:                           │
│  타겟: 여성, 30대                       │
│  플랫폼: 인스타그램                     │
│                                         │
│  [ ✨ 문구 생성하기 ]                   │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│  ✅ 생성 완료!                          │
│                                         │
│  [ 인스타그램 ]              [ 복사 ]   │
│  햇살 아래에서도 피부는 편안하게 ☀️     │
│  #자외선차단 #선크림추천                │
│                                         │
│  길이: 45자                             │
└─────────────────────────────────────────┘
```

---

### 방법 2: cURL로 직접 API 호출

터미널에서 직접 API를 호출해볼 수 있습니다.

```bash
curl -X POST http://localhost:3000/api/generate \
  -H "Content-Type: application/json" \
  -d "{
    \"valueProposition\": \"바르기 쉽고 자외선 차단력이 강한 선크림\",
    \"gender\": \"여성\",
    \"ageRange\": \"30대\",
    \"platforms\": [\"인스타그램\"],
    \"purpose\": \"제품 구매 유도\",
    \"tone\": \"감성적\",
    \"language\": \"한국어\",
    \"includeEmojis\": true,
    \"includeHashtags\": true,
    \"toneIntensity\": 4,
    \"outputCount\": 1
  }"
```

**PowerShell 버전**:
```powershell
$body = @{
    valueProposition = "바르기 쉽고 자외선 차단력이 강한 선크림"
    gender = "여성"
    ageRange = "30대"
    platforms = @("인스타그램")
    purpose = "제품 구매 유도"
    tone = "감성적"
    language = "한국어"
    includeEmojis = $true
    includeHashtags = $true
    toneIntensity = 4
    outputCount = 1
} | ConvertTo-Json

Invoke-RestMethod -Uri "http://localhost:3000/api/generate" `
  -Method POST `
  -ContentType "application/json" `
  -Body $body
```

---

### 방법 3: 테스트 스크립트 실행

자동화된 테스트 스크립트를 실행할 수 있습니다.

```bash
# 1. 개발 서버 시작 (별도 터미널)
npm run dev

# 2. 테스트 실행 (다른 터미널)
npm run test:phase3
```

---

## ✅ 테스트 시나리오

### 시나리오 1: 기본 테스트
```json
{
  "valueProposition": "바르기 쉽고 자외선 차단력이 강한 선크림",
  "platforms": ["인스타그램"]
}
```
**예상 결과**: 여성 30대 타겟의 감성적인 인스타그램 문구

### 시나리오 2: 다중 플랫폼
```json
{
  "valueProposition": "친환경 소재로 만든 편안한 운동화",
  "platforms": ["인스타그램", "틱톡", "유튜브"]
}
```
**예상 결과**: 3개 플랫폼에 맞춘 각각의 문구

### 시나리오 3: 다른 타겟
```json
{
  "valueProposition": "재미있는 게임 앱",
  "gender": "전체",
  "ageRange": "10대",
  "tone": "유머러스"
}
```
**예상 결과**: 10대 타겟의 유머러스한 문구

### 시나리오 4: 검증 에러 테스트
```json
{
  "valueProposition": "짧음",
  "platforms": []
}
```
**예상 결과**: 400 에러 (검증 실패)

---

## 🎨 테스트 페이지 기능

### 입력 영역
- ✅ 가치 제언 입력 (Textarea)
- ✅ 실시간 글자 수 카운터
- ✅ 최소 10자 검증

### 고정 설정 (테스트용)
- 타겟: 여성, 30대
- 플랫폼: 인스타그램
- 목적: 제품 구매 유도
- 어조: 감성적 (강도 4)
- 언어: 한국어
- 이모지/해시태그: 포함

### 결과 표시
- ✅ 생성된 문구 카드 형태로 표시
- ✅ 플랫폼 Badge
- ✅ 복사 버튼 (클립보드에 복사)
- ✅ 글자 수 표시
- ✅ JSON 응답 보기 (접기/펼치기)
- ✅ 생성 시각 표시

### 에러 처리
- ✅ API 에러 메시지 표시
- ✅ 로딩 상태 표시 (스피너)
- ✅ 버튼 비활성화 (입력 부족 시)

---

## ⚠️ 주의사항

### OpenAI API Rate Limit

무료 계정의 경우 분당 요청 수 제한이 있습니다:
- **분당 요청**: 3-5회
- **초당 토큰**: 제한됨

**Rate Limit 초과 시**:
```json
{
  "status": "error",
  "message": "API 요청 한도를 초과했습니다. 잠시 후 다시 시도해주세요.",
  "code": "RATE_LIMIT_EXCEEDED"
}
```

**해결책**: 2-3분 후 다시 시도

### 개발 서버가 실행되지 않는 경우

테스트 페이지가 로드되지 않으면:

1. 터미널에서 개발 서버가 실행 중인지 확인
2. `npm run dev` 명령어로 서버 시작
3. `http://localhost:3000` 접속 확인

---

## 🔍 개발자 도구 활용

### Network 탭에서 API 확인

1. **F12** 또는 **Ctrl+Shift+I**로 개발자 도구 열기
2. **Network** 탭 선택
3. "문구 생성하기" 버튼 클릭
4. `generate` 요청 클릭하여 상세 정보 확인

**확인 가능한 정보**:
- Request Headers
- Request Payload (요청 데이터)
- Response (응답 데이터)
- Status Code (200, 400, 429 등)
- 응답 시간

### Console 탭에서 로그 확인

개발 모드에서는 서버 터미널에 다음과 같은 로그가 표시됩니다:

```
✅ 입력 검증 성공
📝 요청 데이터: {...}
✅ 문구 생성 완료 (소요 시간: 2345ms)
```

---

## 📊 테스트 결과 예시

### 성공 응답

```json
{
  "status": "success",
  "generated_copies": [
    {
      "platform": "인스타그램",
      "text": "햇살 아래에서도 피부는 편안하게 ☀️ 강력한 자외선 차단과 부드러운 발림성을 한 번에! #자외선차단 #선크림추천 #데일리선케어"
    }
  ],
  "metadata": {
    "model": "gpt-4o",
    "generatedAt": "2025-10-20T12:34:56.789Z"
  }
}
```

### 에러 응답

```json
{
  "status": "error",
  "message": "valueProposition: 가치 제언은 최소 10자 이상이어야 합니다.",
  "code": "VALIDATION_ERROR"
}
```

---

## 🎯 다음 테스트할 내용

Phase 3까지 완료된 상태이므로 다음 사항을 테스트해보세요:

1. ✅ **다양한 가치 제언**
   - 제품, 서비스, 이벤트 등
   - 짧은 문구 vs 긴 문구

2. ✅ **입력 검증**
   - 10자 미만 입력
   - 200자 초과 입력

3. ✅ **API 응답 시간**
   - 일반적으로 2-5초 소요

4. ✅ **에러 처리**
   - Rate Limit 에러
   - 네트워크 에러

---

## 💡 테스트 팁

1. **첫 번째 테스트는 느릴 수 있습니다**
   - OpenAI API 초기 연결 시간 소요
   - 2회차부터는 빨라집니다

2. **다양한 입력 시도**
   - 실제 제품 설명 입력
   - 창의적인 가치 제언 작성

3. **생성된 문구 평가**
   - 플랫폼 특성에 맞는지 확인
   - 타겟에 적합한지 평가
   - 이모지/해시태그 활용도 확인

4. **개발자 도구 활용**
   - API 요청/응답 상세 확인
   - 성능 측정 (소요 시간)

---

## ✅ 확인해야 할 사항

- [ ] 개발 서버가 정상적으로 시작됨
- [ ] 테스트 페이지가 로드됨 (`/test`)
- [ ] 가치 제언 입력 가능
- [ ] "문구 생성하기" 버튼 작동
- [ ] 로딩 상태 표시됨
- [ ] 생성된 문구가 표시됨
- [ ] 복사 버튼 작동
- [ ] JSON 응답 확인 가능
- [ ] 에러 메시지가 적절히 표시됨

---

**테스트 페이지 URL**: http://localhost:3000/test

**즐거운 테스트 되세요!** 🎉

